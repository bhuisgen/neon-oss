listeners:
  default:
    local:
      listenAddr: 0.0.0.0
      listenPort: 8080
  # secured:
  #   tls:
  #     listenAddr: 0.0.0.0
  #     listenPort: 8443
  #     certFiles:
  #       - cert.pem
  #     keyFiles:
  #       - key.pem
  # unsecured:
  #   redirect:
  #     listenAddr: 0.0.0.0
  #     listenPort: 8080
  #     redirectPort: 8443

servers:
  main:
    listeners:
      - default
      # - secured
    routes:
      default:
        middlewares:
          logger:
            # file: access.log
          static:
            path: .
        handler:
          app:
            index: index.html
            bundle: bundle.js
            cache: true
            cacheTTL: 60
            rules:
              - path: ^/
                state:
                  - key: config
                    resource: config

      "/robots.txt":
        handler:
          # robots:
          #   cache: true
          #   cacheTTL: 3600
          #   sitemaps:
          #     - http://localhost:8080/sitemap.xml

fetcher:
  providers:
    api:
      rest:
        timeout: 15
        retry: 3
        delay: 5
        headers:
          Content-Type: application/json
          # Authorization: "Bearer: secret_token"

loader:
  execStartup: 15
  execInterval: 300
  execFailsafeInterval: 60
  execMaxOps: 100
  execMaxDelay: 60
  rules:
    # load-config:
    #   raw:
    #     resource:
    #       config:
    #         api:
    #           method: GET
    #           url: http://backend/config.json
